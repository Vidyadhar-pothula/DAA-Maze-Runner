<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEON LABYRINTH</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="game-container">
        <!-- HUD -->
        <div id="hud">
            <div id="hud-left">LEVEL: <span id="level-display">MEDIUM</span></div>
            <div id="hud-center">NEON LABYRINTH</div>
            <div id="hud-right">TIME: <span id="time-display">0.0</span>s</div>
        </div>

        <!-- Canvas -->
        <canvas id="game-canvas"></canvas>

        <!-- Metrics Panel -->
        <div id="metrics-panel">
            <h3>SYSTEM METRICS</h3>
            <div class="metric-group">
                <h4>PLAYER UNIT</h4>
                <p>Steps: <span id="p-steps">0</span></p>
                <p>Cost: <span id="p-cost">0.0</span></p>
            </div>
            <div class="metric-group">
                <h4>AI AGENT (GREEDY)</h4>
                <p>Steps: <span id="ai-steps">0</span></p>
                <p>Cost: <span id="ai-cost">0.0</span></p>
            </div>
            <div id="controls-hint">
                [ESC] MENU | [R] REBOOT | [B] TOGGLE BFS
            </div>
        </div>

        <!-- Menu Overlay -->
        <div id="menu-overlay" class="overlay">
            <h1>NEON LABYRINTH</h1>
            <h2>GREEDY SEARCH PROTOCOL</h2>
            <div class="menu-options">
                <button onclick="startGame('EASY')">INIT: EASY</button>
                <button onclick="startGame('MEDIUM')">INIT: MEDIUM</button>
                <button onclick="startGame('HARD')">INIT: HARD</button>
                <button onclick="showInstructions()">DATA LOGS</button>
            </div>
        </div>

        <!-- Instructions Overlay -->
        <div id="instructions-overlay" class="overlay hidden">
            <h2>DATA LOGS</h2>
            <div class="scroll-content">
                <h3>OBJECTIVE</h3>
                <p>Navigate to Target Node [G] with minimal resource cost.</p>
                <p>Race against Greedy Search Agent.</p>
                <p>Acquire Power-Ups [-2] | Avoid Firewalls [+3].</p>

                <h3>CONTROLS</h3>
                <p><strong>WASD / Arrows</strong> : Vector Movement</p>
                <p><strong>Q, E, Z, C</strong> : Diagonal Vector</p>
                <p><strong>R</strong> : System Reboot</p>
                <p><strong>B</strong> : Toggle BFS Scan</p>
                <p><strong>ESC</strong> : Abort to Menu</p>

                <h3>LEGEND</h3>
                <p><span class="legend-item red"></span> RED : Firewall [+3]</p>
                <p><span class="legend-item green"></span> GREEN : Power-Up [-2]</p>
            </div>
            <button onclick="hideInstructions()">RETURN</button>
        </div>

        <!-- Game Over Overlay -->
        <div id="game-over-overlay" class="overlay hidden">
            <h1 id="go-title">SEQUENCE END</h1>
            <h2 id="go-result">VICTORY!</h2>
            <div class="stats-box">
                <p>UNIT COST: <span id="go-p-cost">0</span> | AI COST: <span id="go-ai-cost">0</span></p>
                <p>UNIT STEPS: <span id="go-p-steps">0</span> | AI STEPS: <span id="go-ai-steps">0</span></p>
            </div>
            <div id="algo-stats" class="stats-box" style="margin-top: 10px; font-size: 0.9em; text-align: left;">
                <!-- Stats will be injected here -->
            </div>
            <button onclick="showMenu()">MAIN MENU</button>
        </div>

        <!-- Blackout Transition Overlay -->
        <div id="blackout-overlay" class="overlay hidden"
            style="background-color: #050510; z-index: 200; transition: opacity 0.5s;"></div>
    </div>
    <script src="script.js"></script>
</body>

</html>